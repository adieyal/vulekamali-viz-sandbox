<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
        <title>D3 Horizonal Bar Chart</title>
        <link rel="stylesheet" href="horizontal-bar-chart.css">
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="horizontal-bar-chart.js"></script>
        <style>
            html, body{
                width: 100%;
                height: 100%;
                margin:0;
                padding:0;
            }
            #chart1{
                position: relative;
                margin: 50px auto;
                /*width: 80%;*/
            }
            #chart2{
                position: relative;
                margin: 50px auto;
                /*width: 60%;*/
            }
        </style>
    </head>
    
    <body>
       <h1>width = 600px</h1>
       <div id="chart1"></div>
       <h1>width = 300px</h1>
       <div id="chart2"></div>
       <script>
           var data = [
                { country: "Italy", city: "Milano", name: "Option E", value: 1560000000, more_url:"https://municipalmoney.gov.za/profiles/municipality-NMA"},
                { country: "Italy", city: "Rome", name: "Option A", value: 1070000000},
                { country: "United States", city: "New York", name: "Option B", value: 3100000000},
                { country: "United States", city: "Washington", name: "Option C", value: 6350000000},
                { country: "Italy", city: "Milano", name: "Option D", value: 2380000000 }
           ];
           
           /*
           new HorizonalBarChart("chart", data, {
               filterLabel:"Choose a Country :",
               filterKey:"country",
               groupKey: "city",
               nameKey: "name",
               valueKey: "value",
               urlKey: "more_url",
               minValue: 0,
               maxValue: 10000000000,
               barUnit: 'M',
               xAxisUnit: 'B',
               colors:['#7bb344','#57802f']
           });
           */
        
        var chart1 = new HorizontalBarChart()
                           .select('chart1')
                           .data(data)
                           .width(600)  // if you don't set width, chart width is same as parent(select chart1 div) width
                           .nameKey('name')
                           .valueKey('value')
                           .filterKey('country')
                           .groupKey('city')
                           .urlKey('more_url')
                           .minValue(0)
                           .maxValue(10000000000)
                           .xAxisUnit('B')
                           .barUnit('M')
                           .filterLabel('Choose a country :')
                           .fontFace(`'Courier New', Courier, monospace`)
                           .colors(['#7bb344','#57802f'])
                           .reDraw();
        
        var chart2 = new HorizontalBarChart()
                           .select('chart2')
                           .data(data)
                           .width(300)
                           .marginLeft(80)  // left(item labels) width can set
                           .nameKey('name')
                           .valueKey('value')
                           .filterKey('country')
                           .groupKey('city')
                           .urlKey('more_url')
                           .minValue(0)
                           .maxValue(10000000000)
                           .xAxisUnit('B')
                           .barUnit('M')
                           .filterLabel('Choose a country :')
                           .fontFace(`'Courier New', Courier, monospace`)
                           .colors(['#7bb344','#57802f'])
                           .reDraw();
        
        
        //please add if select div is not static width (width: 60%;)
        /*
        window.addEventListener('resize', function(){
            chart1.reDraw();
            chart2.reDraw();
        });     
        */
       </script>
    </body>
</html>